{"version":3,"sources":["guards/auth.guard.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA;;GAEG;AACH,sCAA2C;AAC3C,0CAAmG;AACnG,6DAAyD;AAGzD,IAAa,SAAS;IAElB,mBACY,MAAc,EACd,aAA6B;QAD7B,WAAM,GAAN,MAAM,CAAQ;QACd,kBAAa,GAAb,aAAa,CAAgB;IACrC,CAAC;IAEL,+BAAW,GAAX,UAAY,KAA6B,EAAE,KAA0B;QACjE,EAAE,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;YAClC,2BAA2B;YAC3B,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,8DAA8D;QAC9D,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,GAAG,EAAE,EAAC,CAAC,CAAC;QAC3E,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACL,gBAAC;AAAD,CAnBA,AAmBC,IAAA;AAnBY,SAAS;IADrB,iBAAU,EAAE;qCAIW,eAAM;QACE,8BAAa;GAJhC,SAAS,CAmBrB;AAnBY,8BAAS","file":"auth.guard.js","sourcesContent":["/**\r\n * Created by ori on 4/27/2017.\r\n */\r\nimport { Injectable } from '@angular/core';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport {GlobalService} from \"../services/global.service\";\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private globalService : GlobalService\r\n    ) { }\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        if (localStorage.getItem('currentStore')) {\r\n            this.globalService.isLogin = true;\r\n            // logged in so return true\r\n            return true;\r\n        }\r\n\r\n        // not logged in so redirect to login page with the return url\r\n        this.globalService.isLogin = false;\r\n        this.router.navigate(['/login'], { queryParams: { returnUrl: state.url }});\r\n        return false;\r\n    }\r\n}\r\n"]}